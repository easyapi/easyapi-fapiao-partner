(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["store"],{"033a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-container"},[n("div",{staticClass:"main-breadcrumb flex-r"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[e._v("企业管理")])],1),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.showDiglog(0,"","")}}},[e._v("添加")])],1),n("div",{staticClass:"main-content"},[n("div",{staticClass:"search-content"},[n("el-form",{staticClass:"search__from",attrs:{inline:!0,model:e.formInline,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"关键字"}},[n("el-input",{staticStyle:{width:"360px"},attrs:{size:"small",placeholder:"可输入企业名称、税号等关键字"},model:{value:e.formInline.keyword,callback:function(t){e.$set(e.formInline,"keyword",t)},expression:"formInline.keyword"}})],1),n("el-form-item",[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.getShopsList}},[e._v("搜索")])],1)],1)],1),n("div",{},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"","element-loading-text":"老铁别急，这就给你整上...","header-row-class-name":"table-header--gray",size:"small",data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"shopId",label:"序号",align:"center"}}),n("el-table-column",{attrs:{prop:"addTime",label:"添加时间",width:"180",align:"center"}}),n("el-table-column",{attrs:{prop:"name",label:"企业名称",align:"center"}}),n("el-table-column",{attrs:{prop:"identifyNumber",label:"纳税人识别号",align:"center"}}),n("el-table-column",{attrs:{prop:"provider",label:"税务服务商",align:"center"}}),n("el-table-column",{attrs:{prop:"apiState",label:"API状态",align:"center",formatter:e.formatState}}),n("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.showDiglog(1,t.$index,t.row)}}},[e._v("设置管理员")]),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.jump2console(t.$index,t.row)}}},[e._v("控制台")])]}}])})],1),n("el-dialog",{attrs:{"modal-append-to-body":!1,title:e.titleTips,visible:e.centerDialogVisible,width:"30%",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[n("el-form",{ref:"formInline",staticClass:"demo-ruleForm",attrs:{model:e.formInline,rules:e.rules,"label-width":"130px"}},[e.show1?n("div",[n("el-form-item",{attrs:{label:"企业名称：",prop:"name"}},[n("el-input",{model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),n("el-form-item",{attrs:{label:"纳税人识别号：",prop:"identifyNumber"}},[n("el-input",{model:{value:e.formInline.identifyNumber,callback:function(t){e.$set(e.formInline,"identifyNumber",t)},expression:"formInline.identifyNumber"}})],1)],1):e._e(),e.show2?n("div",[n("el-form-item",{attrs:{label:"管理员账号：",prop:"username"}},[n("el-input",{attrs:{type:"number"},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username",t)},expression:"formInline.username"}})],1),n("el-form-item",{attrs:{label:"验证码：",prop:"code"}},[n("el-input",{staticStyle:{width:"50%"},attrs:{type:"number"},model:{value:e.formInline.code,callback:function(t){e.$set(e.formInline,"code",t)},expression:"formInline.code"}}),n("el-button",{attrs:{disabled:e.btnDisabled},on:{click:e.sendCaptcha}},[e._v(e._s(e.captchaTip))])],1),n("el-form-item",{attrs:{label:"用户昵称：",prop:"nickname"}},[n("el-input",{attrs:{type:"text"},model:{value:e.formInline.nickname,callback:function(t){e.$set(e.formInline,"nickname",t)},expression:"formInline.nickname"}})],1),n("el-form-item",{attrs:{label:"初始密码：",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}})],1)],1):e._e()]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){return e.resetForm("formInline")}}},[e._v("重 置")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formInline")}}},[e._v("保 存")])],1)],1),n("div",{staticClass:"pagination text-align-right"},[n("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[15,30,45,60],"page-size":15,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},i=[],o=(n("b06f"),n("3a23"),n("4ec3")),s=n("8c92"),r=n.n(s),l={name:"",components:{},props:{},data:function(){return{centerDialogVisible:!1,btnType:"",captchaTip:"获取验证码",titleTips:"提示",formInline:{keyword:"",shopId:"",identifyNumber:"",name:"",username:"",code:"",nickname:"",password:""},addTime:"",tableData:[],active:0,current:1,pageSize:15,show1:!1,show2:!1,multipleSelection:"",total:0,loading:!0,btnDisabled:!1,rules:{name:[{required:!0,message:"请输入企业名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],identifyNumber:[{required:!0,message:"请输入纳税人识别号",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],username:[{required:!0,message:"请输入管理员账号",trigger:"blur"},{min:11,max:11,message:"长度 11 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"长度在 6 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{min:1,max:11,message:"长度在 11 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入初始密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}]}}},computed:{},watch:{},created:function(){},mounted:function(){document.title="企业管理 - EasyAPI服务商",this.getShopsList()},activated:function(){},deactivated:function(){},methods:{getShopsList:function(){var e=this,t=r.a.get("userInfo");console.log(t),this.loading=!0,this.$ajax({method:"get",url:o["i"],params:{page:this.current-1,size:this.pageSize,keyword:this.formInline.keyword}}).then(function(t){0===t.data.code?e.tableData=[]:(e.tableData=t.data.content,e.total=t.data.totalElements),e.loading=!1}).catch(function(e){console.log(e)})},formatState:function(e,t,n){return 0===n?"未开通":1===n?"已开通":void 0},showDiglog:function(e,t,n){this.centerDialogVisible=!0,this.btnType=e,this.formInline.shopId=n.shopId,console.log(n.shopId),0==e?(this.show1=!0,this.titleTips="添加企业",this.show2=!1):(this.show2=!0,this.titleTips="设置管理员",this.show1=!1)},sendCaptcha:function(){var e=this;this.btnDisabled=!0,this.$ajax({method:"post",url:o["f"],data:{mobile:this.formInline.username}}).then(function(t){e.captchaTip="获取成功"}).catch(function(t){e.btnDisabled=!1,e.$message.warning("请输入手机号！"),console.log(t)})},jump2console:function(e,t){var n=this;this.$ajax({method:"get",url:o["j"]+t.shopId,params:{}}).then(function(e){console.log(e),"1"==e.data.code&&(window.location.href=e.data.content)}).catch(function(e){n.$message.warning("您还没有设置该商户门店的管理员!"),console.log(e)})},handleSizeChange:function(e){this.loading=!0,this.pageSize=e,this.getShopsList(),console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){this.current=e,this.getShopsList(),console.log("当前页: ".concat(e))},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e?(console.log(t.btnType),1==t.btnType?t.$ajax({method:"post",url:o["c"],data:{shopId:t.formInline.shopId,username:t.formInline.username,code:t.formInline.code,nickname:t.formInline.nickname,password:t.formInline.password}}).then(function(e){200===e.status?(t.centerDialogVisible=!1,t.$message.success("设置成功！")):0===e.data.code&&t.$message.error("设置失败！")}).catch(function(e){t.$message.error(e.response.data.message),console.log(e.response)}):t.$ajax({method:"post",url:o["k"],data:{identifyNumber:t.formInline.identifyNumber,name:t.formInline.name}}).then(function(e){200===e.status?(t.centerDialogVisible=!1,t.$message.success("添加成功！"),t.getShopsList()):0===e.data.code&&t.$message.error("添加失败！")}).catch(function(e){t.$message.error(e.response.data.message)})):console.log("error submit!!")})},resetForm:function(e){this.captchaTip="获取验证码",this.btnDisabled=!1,this.$refs[e].resetFields()},getAgentList:function(){var e=this,t={};t.page=this.current-1,t.size=this.pageSize,t.nickname=this.nickname,t.phone=this.phone,t.startAddTime=this.startTime,t.endAddTime=this.endTime,t.area=this.area,t.areaType=this.areaType,this.$ajax({method:"get",url:agentsUrl,params:t}).then(function(t){200===t.status?(e.tableData=t.data.content,e.total=Number(t.data.totalElements)):0===t.data.code&&(e.tableData=[],e.total=0)}).catch(function(t){console.log(t.response),e.tableData=[],e.total=0})},handleEdit:function(e,t){console.log(e,t.productId),this.$router.push({path:"/store/product-add",query:{id:t.productId}})},handleSelectionChange:function(e){console.log(e);var t=[];if(0!=e.length)for(var n in e)t.push(e[n].productId),this.multipleSelection=t.join(",");else this.multipleSelection="";console.log(this.multipleSelection)}}},c=l,m=(n("dc4f"),n("17cc")),u=Object(m["a"])(c,a,i,!1,null,"3ebf9c8a",null);t["default"]=u.exports},1111:function(e,t,n){},"2db23":function(e,t,n){"use strict";var a=n("1111"),i=n.n(a);i.a},"2df7":function(e,t,n){"use strict";var a=n("85de"),i=n.n(a);i.a},"3a68":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-container"},[n("div",{staticClass:"main-breadcrumb flex-r"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[e._v("预警企业")])],1)],1),n("div",{staticClass:"main-content"},[n("div",{},[n("p",{staticClass:"tip-txt"},[e._v("提示：连续7天没开票的所有商户")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"","element-loading-text":"老铁别急，这就给你整上...","header-row-class-name":"table-header--gray",size:"small",data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"shopSummaryId",label:"序号",align:"center"}}),n("el-table-column",{attrs:{prop:"shop.name",label:"企业名称",align:"center"}}),n("el-table-column",{attrs:{prop:"shop.identifyNumber",label:"纳税人识别号",align:"center"}}),n("el-table-column",{attrs:{prop:"shop.provider",label:"税务服务商",align:"center"}}),n("el-table-column",{attrs:{prop:"addTime",label:"注册时间",width:"180",align:"center"}}),n("el-table-column",{attrs:{prop:"lastTime",label:"最近开票日期",width:"180",align:"center"}}),n("el-table-column",{attrs:{prop:"successCount",label:"成功开票量",align:"center"}}),n("el-table-column",{attrs:{prop:"failCount",label:"失败开票量",align:"center"}})],1),n("div",{staticClass:"pagination text-align-right"},[n("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[15,30,45,60],"page-size":15,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},i=[],o=(n("b06f"),n("4ec3")),s={name:"",components:{},props:{},data:function(){return{formInline:{name:"",productCategory:"",minTotalSales:"",maxTotalSales:"",minPrice:"",maxPrice:"",state:"",minQuantity:"",maxQuantity:"",ifWarn:!1},addTime:"",tableData:[],pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},active:0,current:1,pageSize:15,multipleSelection:"",showDown:!0,showUp:!1,total:0,loading:!0}},computed:{},watch:{},created:function(){},mounted:function(){document.title="预警企业 - EasyAPI服务商",this.getShopSummaiesList()},activated:function(){},deactivated:function(){},methods:{getShopSummaiesList:function(){var e=this;this.loading=!0,this.$ajax({method:"get",url:o["h"],params:{page:this.current-1,size:this.pageSize,type:1}}).then(function(t){0===t.data.code?e.tableData=[]:(e.tableData=t.data.content,e.total=t.data.totalElements),e.loading=!1}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.loading=!0,this.pageSize=e,this.getProductList(this.formInline),console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){this.current=e,this.getProductList(this.formInline),console.log("当前页: ".concat(e))},getAgentList:function(){var e=this,t={};t.page=this.current-1,t.size=this.pageSize,t.nickname=this.nickname,t.phone=this.phone,t.startAddTime=this.startTime,t.endAddTime=this.endTime,t.area=this.area,t.areaType=this.areaType,this.$ajax({method:"get",url:agentsUrl,params:t}).then(function(t){200===t.status?(e.tableData=t.data.content,e.total=Number(t.data.totalElements)):0===t.data.code&&(e.tableData=[],e.total=0)}).catch(function(t){console.log(t.response),e.tableData=[],e.total=0})},handleEdit:function(e,t){console.log(e,t.productId),this.$router.push({path:"/store/product-add",query:{id:t.productId}})},handleSelectionChange:function(e){console.log(e);var t=[];if(0!=e.length)for(var n in e)t.push(e[n].productId),this.multipleSelection=t.join(",");else this.multipleSelection="";console.log(this.multipleSelection)},tabChange:function(e,t){this.formInline.state="",this.formInline.minQuantity="",this.formInline.maxQuantity="",this.formInline.ifWarn=!1,this.active=e,1==e?(this.getProductList(this.formInline),this.showUp=!0,this.showDown=!1):2==e?(this.getProductList(this.formInline),this.showUp=!1,this.showDown=!0):3==e?(this.getProductList(this.formInline),this.showUp=!1,this.showDown=!0):0==e&&(this.getProductList(this.formInline),this.showUp=!1,this.showDown=!0)},changePage:function(e){this.current=e,this.getAgentList()}}},r=s,l=(n("a715"),n("17cc")),c=Object(l["a"])(r,a,i,!1,null,"d572bd06",null);t["default"]=c.exports},"45dc":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-container"},[n("div",{staticClass:"main-breadcrumb flex-r"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[e._v("沉默企业")])],1)],1),n("div",{staticClass:"main-content"},[n("div",{},[n("p",{staticClass:"tip-txt"},[e._v("提示：沉默商户是指超过30天没有开票的商户，包括从注册超过30天未开票的商户")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"","element-loading-text":"老铁别急，这就给你整上...","header-row-class-name":"table-header--gray",size:"small",data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"shopSummaryId",label:"序号",align:"center"}}),n("el-table-column",{attrs:{prop:"shop.name",label:"企业名称",align:"center"}}),n("el-table-column",{attrs:{prop:"shop.identifyNumber",label:"纳税人识别号",align:"center"}}),n("el-table-column",{attrs:{prop:"shop.provider",label:"税务服务商",align:"center"}}),n("el-table-column",{attrs:{prop:"addTime",label:"注册时间",width:"180",align:"center"}}),n("el-table-column",{attrs:{prop:"lastTime",label:"最近开票日期",width:"180",align:"center"}}),n("el-table-column",{attrs:{prop:"amount",label:"历史开票量",align:"center"}}),n("el-table-column",{attrs:{prop:"silenceDay",label:"沉默天数",align:"center"}})],1),n("div",{staticClass:"pagination text-align-right"},[n("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[15,30,45,60],"page-size":15,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},i=[],o=(n("b06f"),n("4ec3")),s={name:"",components:{},props:{},data:function(){return{formInline:{name:"",productCategory:"",minTotalSales:"",maxTotalSales:"",minPrice:"",maxPrice:"",state:"",minQuantity:"",maxQuantity:"",ifWarn:!1},addTime:"",tableData:[],pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},active:0,current:1,pageSize:15,multipleSelection:"",showDown:!0,showUp:!1,total:0,loading:!0}},computed:{},watch:{},created:function(){},mounted:function(){document.title="沉默企业 - EasyAPI服务商",this.getShopSummaiesList()},activated:function(){},deactivated:function(){},methods:{getShopSummaiesList:function(){var e=this;this.loading=!0,this.$ajax({method:"get",url:o["h"],params:{page:this.current-1,size:this.pageSize,type:2}}).then(function(t){0===t.data.code?e.tableData=[]:(e.tableData=t.data.content,e.total=t.data.totalElements),e.loading=!1}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.loading=!0,this.pageSize=e,this.getProductList(this.formInline),console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){this.current=e,this.getProductList(this.formInline),console.log("当前页: ".concat(e))},getAgentList:function(){var e=this,t={};t.page=this.current-1,t.size=this.pageSize,t.nickname=this.nickname,t.phone=this.phone,t.startAddTime=this.startTime,t.endAddTime=this.endTime,t.area=this.area,t.areaType=this.areaType,this.$ajax({method:"get",url:agentsUrl,params:t}).then(function(t){200===t.status?(e.tableData=t.data.content,e.total=Number(t.data.totalElements)):0===t.data.code&&(e.tableData=[],e.total=0)}).catch(function(t){console.log(t.response),e.tableData=[],e.total=0})},handleEdit:function(e,t){console.log(e,t.productId),this.$router.push({path:"/store/product-add",query:{id:t.productId}})},handleSelectionChange:function(e){console.log(e);var t=[];if(0!=e.length)for(var n in e)t.push(e[n].productId),this.multipleSelection=t.join(",");else this.multipleSelection="";console.log(this.multipleSelection)},tabChange:function(e,t){this.formInline.state="",this.formInline.minQuantity="",this.formInline.maxQuantity="",this.formInline.ifWarn=!1,this.active=e,1==e?(this.getProductList(this.formInline),this.showUp=!0,this.showDown=!1):2==e?(this.getProductList(this.formInline),this.showUp=!1,this.showDown=!0):3==e?(this.getProductList(this.formInline),this.showUp=!1,this.showDown=!0):0==e&&(this.getProductList(this.formInline),this.showUp=!1,this.showDown=!0)},changePage:function(e){this.current=e,this.getAgentList()}}},r=s,l=(n("2db23"),n("17cc")),c=Object(l["a"])(r,a,i,!1,null,"665fd7fc",null);t["default"]=c.exports},5012:function(e,t,n){},5720:function(e,t,n){},"85de":function(e,t,n){},"85eb":function(e,t,n){"use strict";var a=n("5720"),i=n.n(a);i.a},"90a3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-container"},[n("div",{staticClass:"main-breadcrumb flex-r"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[e._v("服务商管理")])],1),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.showDiglog(0,"","")}}},[e._v("添加")])],1),n("div",{staticClass:"main-content"},[n("div",{staticClass:"search-content"},[n("el-form",{staticClass:"search__from",attrs:{inline:!0,model:e.formInline,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"关键字"}},[n("el-input",{staticStyle:{width:"360px"},attrs:{size:"small",placeholder:"可输入企业名称、税号等关键字"},model:{value:e.formInline.keyword,callback:function(t){e.$set(e.formInline,"keyword",t)},expression:"formInline.keyword"}})],1),n("el-form-item",[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.getProductList(e.formInline)}}},[e._v("搜索")])],1)],1)],1),n("div",{},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"","element-loading-text":"老铁别急，这就给你整上...","header-row-class-name":"table-header--gray",size:"small",data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"platformId",label:"序号",align:"center"}}),n("el-table-column",{attrs:{prop:"addTime",label:"添加时间",align:"center"}}),n("el-table-column",{attrs:{prop:"name",label:"服务商名称",align:"center"}}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.showDiglog(1,t.$index,t.row)}}},[e._v("设置管理员")]),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.editPlatform("",t.$index,t.row)}}},[e._v(e._s(0==t.row.state?"停用":"启用"))])]}}])})],1),n("el-dialog",{attrs:{"modal-append-to-body":!1,title:e.titleTips,visible:e.centerDialogVisible,width:"30%",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[n("el-form",{ref:"formInline",staticClass:"demo-ruleForm",attrs:{model:e.formInline,rules:e.rules,"label-width":"130px"}},[e.show1?n("div",[n("el-form-item",{attrs:{label:"服务商名称：",prop:"name"}},[n("el-input",{model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1)],1):e._e(),e.show2?n("div",[n("el-form-item",{attrs:{type:"number",label:"管理员账号：",prop:"username"}},[n("el-input",{model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username",t)},expression:"formInline.username"}})],1),n("el-form-item",{attrs:{type:"number",label:"验证码：",prop:"code"}},[n("el-input",{staticStyle:{width:"50%"},model:{value:e.formInline.code,callback:function(t){e.$set(e.formInline,"code",t)},expression:"formInline.code"}}),n("el-button",{attrs:{disabled:e.btnDisabled},on:{click:e.sendCaptcha}},[e._v(e._s(e.captchaTip))])],1),n("el-form-item",{attrs:{type:"text",label:"用户昵称：",prop:"nickname"}},[n("el-input",{model:{value:e.formInline.nickname,callback:function(t){e.$set(e.formInline,"nickname",t)},expression:"formInline.nickname"}})],1),n("el-form-item",{attrs:{type:"password",label:"初始密码：",prop:"password"}},[n("el-input",{model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}})],1)],1):e._e()]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){return e.resetForm("formInline")}}},[e._v("重 置")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formInline")}}},[e._v("保 存")])],1)],1),n("div",{staticClass:"pagination text-align-right"},[n("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[15,30,45,60],"page-size":15,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},i=[],o=(n("3a23"),n("4ec3")),s={name:"",components:{},props:{},data:function(){return{formInline:{platformId:"",identifyNumber:"",name:"",username:"",code:"",nickname:"",password:""},addTime:"",state:"",show1:!1,show2:!1,tableData:[],centerDialogVisible:!1,btnType:"",captchaTip:"获取验证码",titleTips:"提示",active:0,current:1,pageSize:15,multipleSelection:"",total:0,loading:!0,rules:{name:[{required:!0,message:"请输入企业名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],username:[{required:!0,message:"请输入管理员账号",trigger:"blur"},{min:11,max:11,message:"长度 11 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"长度在 6 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{min:1,max:11,message:"长度在 11 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入初始密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}]}}},computed:{},watch:{},created:function(){},mounted:function(){document.title="服务商管理 - EasyAPI服务商",this.getPlatformsList()},activated:function(){},deactivated:function(){},methods:{getPlatformsList:function(){var e=this;this.loading=!0,this.$ajax({method:"get",url:o["g"],params:{page:this.current-1,size:this.pageSize,keyword:this.formInline.keyword}}).then(function(t){0===t.data.code?e.tableData=[]:(e.tableData=t.data.content,e.total=t.data.totalElements),e.loading=!1}).catch(function(e){console.log(e)})},showDiglog:function(e,t,n){this.centerDialogVisible=!0,this.btnType=e,this.formInline.platformId=n.platformId,console.log(n.platformId),0==e?(this.show1=!0,this.titleTips="添加服务商",this.show2=!1):(this.show2=!0,this.titleTips="设置管理员",this.show1=!1)},sendCaptcha:function(){var e=this;this.btnDisabled=!0,this.$ajax({method:"post",url:o["f"],data:{mobile:this.formInline.username}}).then(function(t){e.captchaTip="获取成功"}).catch(function(t){e.btnDisabled=!1,e.$message.warning("请输入手机号！"),console.log(t)})},handleSizeChange:function(e){this.loading=!0,this.pageSize=e,this.getPlatformsList(),console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){this.current=e,this.getPlatformsList(),console.log("当前页: ".concat(e))},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e?(console.log(t.btnType),1==t.btnType?t.$ajax({method:"post",url:o["b"],data:{platformId:t.formInline.platformId,username:t.formInline.username,code:t.formInline.code,nickname:t.formInline.nickname,password:t.formInline.password}}).then(function(e){200===e.status?(t.centerDialogVisible=!1,t.$message.success("设置成功！")):0===e.data.code&&t.$message.error("设置失败！")}).catch(function(e){t.$message.error("设置失败！"),console.log(e.response)}):t.$ajax({method:"post",url:o["e"],data:{name:t.formInline.name}}).then(function(e){200===e.status?(t.centerDialogVisible=!1,t.$message.success("添加成功！"),t.getPlatformsList()):0===e.data.code&&t.$message.error("添加失败！")}).catch(function(e){t.$message.error(e.response.data.message)})):console.log("error submit!!")})},resetForm:function(e){this.captchaTip="获取验证码",this.btnDisabled=!1,this.$refs[e].resetFields()},editPlatform:function(e,t,n){var a=this;1==n.state?this.state=0:0==n.state&&(this.state=1),this.$ajax({method:"post",url:o["e"]+n.platformId,data:{state:this.state}}).then(function(e){200===e.status&&a.getPlatformsList()}).catch(function(e){console.log(e.response)})},handleEdit:function(e,t){console.log(e,t.productId),this.$router.push({path:"/store/product-add",query:{id:t.productId}})},handleSelectionChange:function(e){console.log(e);var t=[];if(0!=e.length)for(var n in e)t.push(e[n].productId),this.multipleSelection=t.join(",");else this.multipleSelection="";console.log(this.multipleSelection)}}},r=s,l=(n("a1a3"),n("17cc")),c=Object(l["a"])(r,a,i,!1,null,"7ff3fbc1",null);t["default"]=c.exports},"9d64":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA31pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpENkIwQTlGMDQ4MjA2ODExODIyQUI2ODhFQzcwM0VFRCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RkRDOUMyNUNFRDYxMUU4QjE3NDlCQzU4OEJFQ0U5MiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RkRDOUMyNENFRDYxMUU4QjE3NDlCQzU4OEJFQ0U5MiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMDJiNTNhYy1lNjQwLTRiOTgtODcyMi00MjU4MzRkY2JhNjciIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpiNDk3NTgxYi02ZGUxLTExN2ItODNkYy1jNjk4ODg5ZjM3N2MiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5Owaz5AAADV0lEQVR42rxWW2+MURRdc+ncOtde0LorqQgiGnENkUgUjUtFQiTizaMnHvgP4g1vIhIRLSWRCEUjlASJxuWBilSqnY52OjOd6dxnrH3m69Bq+SZaOzkz35nvzF5n7bX3Pgf5fB4cyzhaOcL56bOw5lN8w8CPegAvOLyYGQtxbBCgVj40Y2btpgCF+eDWszrDENz+HoE/mcGROV5UlJn0AkWNekHEAqkMbgciuOYP4V00UQojp1HvykQuj0u9QbQHo/gcT+FC7xD8BNZruoHeksHdwRHktfnLSBwPCTqtQGlqcysQRl8yXfwtls3hDvUK6GSlC+jNSAL3hqJFNmP2mqwe6WT1V6AUtWkjm36NzSqnDdt85SgzGAqsGE49rP4K1BUtsBEz0/mxGh9OLqhCpaWQ2p2hGJ5y/BNQJJPD9YFQUZsV5VZs8TrQ4LJjk8ehfkuScQtTvv8X/UoGejPCzNLYmAzAzkoX5tsssBgN2FvtRrXFrN49J6PHw7HfNNQFJGxaqc1YrSx32NBU7VKAYhvIaL3bUayxtoB0jHTpQMLmiRZ7WbSzyok6uxVRJoBswmM2oXmWW32LvQiPMgNjpQHFczncEDbJAps6hxUHZ3kQTGdwptuPU5/60T2awmbqtVHTSmpN9JwqAycFesX6aB/6WR+7Kp1YbLfgQyyJloGwKtSuaBxustlPVm6zsdgtHkxRV8bJ6uZy3zBCmayaLyHArioXDFpCLOK8xloGm7Hw163ecjRoWold7Q+p0P4RSOg/Z6yfhUbVXJzvqHBiNdM5TOA2MtlN0OO1PtWSvrC5+nhU7Kv+qdV71p28G05npwa6z3Cd/zqonIpJuA7N9nCHWZztHkAHxd5DoAN0/JEanf7kV528kaFd47IVN3vxW5B6hacG6kmkxrX+RtbNSrYcCYekuiSJWF6NvOoIVxhmYSMbKjcV3EUZur4JqW7+dSI7dXHxuZ5BLGWmHa3xFvtbHdkJw7nUR5JgLcMp9bPOY1drpJg7GfIOFu6JeRVqPhEoMnbKzqaT7T4nehNp1LPdLGQXGGs9h3l011rN6vg2secJW0kUAVRHKDfYxLDW0oe8m2crG3eU/9fLyXJpVzN83doI7QJZr132ItN4gYxoPsU3fggwAFHoQEsWY9M5AAAAAElFTkSuQmCC"},a1a3:function(e,t,n){"use strict";var a=n("ef9a"),i=n.n(a);i.a},a715:function(e,t,n){"use strict";var a=n("db48"),i=n.n(a);i.a},db48:function(e,t,n){},dc4f:function(e,t,n){"use strict";var a=n("5012"),i=n.n(a);i.a},e08d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("Header"),n("Aside"),n("div",{staticClass:"main"},[n("router-view")],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header flex-r"},[e._m(0),n("div",{staticClass:"header_navbar flex-r"},e._l(e.pagesList,function(t,a){return n("a",{key:a,class:[e.navBarActive===t.name?"active":""],on:{click:function(n){return e.jumpPage(t.url)}}},[e._v(e._s(t.title))])}),0),n("div",{staticClass:"header_account flex-r"},[n("el-popover",{attrs:{"popper-class":"el-popover--box",placement:"bottom","visible-arrow":"",width:"50",trigger:"click"},model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}},[n("ul",[n("li",{on:{click:e.logOut}},[e._v("退出")])]),n("a",{attrs:{slot:"reference"},slot:"reference"},[n("img",{attrs:{src:e.userInfo.photo,alt:""}})])])],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header_logo flex-r"},[a("img",{attrs:{src:n("9d64"),alt:""}}),a("span",{staticClass:"fz-14"},[e._v("\n\t\t\tEasyAPI发票管理\n\t\t")])])}];n("a321");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}var c=n("52c1"),m=n("8c92"),u=n.n(m),d={name:"Header",components:{},props:{},data:function(){return{showPopover:!1}},computed:l({},Object(c["b"])(["userInfo","pagesList","navBarActive"])),watch:{},created:function(){},mounted:function(){this.$store.dispatch("setNavbar",this.$route.matched[0].path),localStorage.getItem("token")?this.$store.dispatch("getUserInfo"):(this.$message.warning("请先登录"),this.$router.push("/login"))},activated:function(){},deactivated:function(){},methods:{jumpPage:function(e){-1===this.$route.path.indexOf(e)&&(this.$router.push({path:e,query:{}}),this.$store.dispatch("setNavbar",e))},logOut:function(){u.a.remove("userInfo"),this.$router.push("/login"),this.$store.dispatch("logOut"),this.showPopover=!1}}},h=d,p=(n("85eb"),n("17cc")),g=Object(p["a"])(h,o,s,!1,null,"0da73b78",null),f=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aside"},e._l(e.sons,function(t,a){return n("div",{key:a,staticClass:"navbar flex-c"},[n("h2",[e._v(e._s(t.title))]),e._l(t.sons,function(t,i){return n("a",{key:i,class:[e.sonsBarActive===t.name?"active":""],on:{click:function(n){return e.jumpPage(t.url,a)}}},[n("span",{class:["iconfont",t.icon?t.icon:"icon-member1"]}),e._v(e._s(t.title))])})],2)}),0)},v=[],w={name:"Aside",components:{},props:{},data:function(){return{}},computed:l({},Object(c["b"])(["sons","sonsBarActive"])),watch:{},created:function(){},mounted:function(){this.$store.dispatch("setSonsNavbarActive",this.$route.path)},activated:function(){},deactivated:function(){},methods:{jumpPage:function(e,t){this.$router.push({path:e,query:{}}),this.$store.dispatch("setSonsNavbarActive",e)}}},I=w,y=Object(p["a"])(I,b,v,!1,null,"5d0623d1",null),x=y.exports,k={name:"LayOut",components:{Header:f,Aside:x},props:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},activated:function(){},deactivated:function(){},methods:{}},S=k,D=(n("2df7"),Object(p["a"])(S,a,i,!1,null,"1d49870a",null));t["default"]=D.exports},ef9a:function(e,t,n){}}]);
//# sourceMappingURL=store.b20ef313.js.map
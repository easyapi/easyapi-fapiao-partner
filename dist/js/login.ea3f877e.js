(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{c6f7:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login flex-c"},[s("div",{staticClass:"login_box flex-r"},[e._m(0),s("div",{staticClass:"login_box_rt"},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"0"}},[s("el-form-item",{attrs:{label:""}},[s("h2",{staticClass:"text-align-center"},[e._v("登录")])]),s("el-form-item",{attrs:{label:"",prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}},[s("i",{staticClass:"iconfont icon-phone",attrs:{slot:"prefix"},slot:"prefix"})])],1),s("el-form-item",{attrs:{label:"",prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}},[s("i",{staticClass:"iconfont icon-password",attrs:{slot:"prefix"},slot:"prefix"})])],1),s("div",{staticClass:"remember flex-r"},[s("el-checkbox",{model:{value:e.rememberMe,callback:function(t){e.rememberMe=t},expression:"rememberMe"}},[e._v("记住密码")])],1),s("el-form-item",[s("el-button",{staticClass:"login--btn",attrs:{type:"primary"},on:{click:function(t){return e.submit("ruleForm")}}},[e._v("登录")])],1),e._e()],1)],1)])])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login_box_lf flex-c"},[s("div",{staticClass:"welcome  fz-cl-white"},[s("span",{staticClass:"fz-18"},[e._v("欢迎来到")]),s("p",{staticClass:"fz-36"},[e._v("EasyAPI服务商平台")])])])}],a=(s("debc"),s("8c92"),s("4ec3")),l={name:"Login",components:{},props:{},data:function(){return{ruleForm:{username:"",password:""},rememberMe:!0,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},computed:{},watch:{},created:function(){},mounted:function(){document.title="登录 - EasyAPI服务商"},activated:function(){},deactivated:function(){},methods:{submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$ajax({method:"post",url:a["d"],data:{username:t.ruleForm.username,password:t.ruleForm.password,rememberMe:t.rememberMe}}).then(function(e){console.log(e),200===e.status&&e.data.id_token?(localStorage.setItem("token","Bearer "+e.data.id_token),t.$message.success("登录成功"),t.$store.dispatch("getUserInfo"),setTimeout(function(){t.$router.push("/invoice/enterprise-list")},1e3)):t.$message.success("".concat(e.data.message,",").concat(e.data.content))}).catch(function(e){console.log(e.response)})})},jumpPage:function(e){this.$router.push({path:e,query:{}})}}},n=l,i=s("17cc"),c=Object(i["a"])(n,r,o,!1,null,"d4f05e16",null);t["default"]=c.exports}}]);
//# sourceMappingURL=login.ea3f877e.js.map